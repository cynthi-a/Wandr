{% extends 'wandr/base.html' %}
{% load staticfiles %}

{% block css_block %}
    <link rel="stylesheet" href="{% static "css/style.css" %}" />

{% endblock %}

{% block title_block %}
    User {{ user.username }}
{% endblock %}

{% block body_block %}

    <!-- Cover photo -->
    <div id="cover-photo-container">
        {% if user.userprofile.cover_photo %}
            {% if this_user %}
                <div class="edit-cover-photo-icon"><a href="upload_cover_photo"><img src="../../../static/images/edit_pencil.jpg"></a></div>
            {% endif %}
            <div id="cover-photo-wrapper" style="background:url('/media/{{ user.userprofile.cover_photo }}');"></div>
        {% else %}
            {% if this_user %}
                <a href="upload_cover_photo">
                    <div id="empty-cover-photo-wrapper">
                        <h1>Upload your cover photo</h1><img src="../../../static/images/plus.png" alt="">
                    </div>
                </a>
            {% endif %}
        {% endif %}
    </div>

    <!-- Profile Picture -->
    <div id="profile-picture-container">
        {% if user.userprofile.picture %}
            <div id="profile-picture-wrapper">
                {% if this_user %}
                    <div class="edit-profile-pic-icon">
                        <a href="upload_profile_picture">
                            <img class="edit-pencil-img" src="../../../static/images/edit_pencil.jpg" />
                        </a>
                    </div>
                {% endif %}
                    <img class="profile-picture-img" src="/media/{{ user.userprofile.picture }}" alt="profile_image">
            </div>
        {% else %}
            <div id="empty-profile-picture-wrapper">
{# Change to dynamic urls #}
                {% if this_user %}
                    <a href="upload_profile_picture">
                        <img src="../../../static/images/add-profile-picture.jpg" alt="profile_image">
                    </a>
                {% endif %}
            </div>
        {% endif %}
    </div>

    <div>
    {% if this_user %}
        <h1>Welcome to your profile, {{ user.username }}</h1>
    {% else %}
        <h1>{{ user.username }} {{ user.id }}</h1>
    {% endif %}
    </div>

    <!-- Have Been List -->
    <div class="hbl-container">
        {% if this_user %}
            <h2>Your Have Been List</h2>
            <div class="hbl-add-picture-wrapper">
                <a href="{% url 'add_picture' %}">
                    <div class="hbl-add-picture-button">
                        <h3>Add a picture</h3>
                        <img src="../../../static/images/plus.png" alt="add picture">
                    </div>
                </a>
            </div>
        {% else %}
            <h2>{{ user.username }}'s Have Been List</h2>
        {% endif %}

        {% for picture in hbl.picture_set.all %}
            <div class="list-img-container">
            <!-- If logged in user they can delete hbl photos -->
                {% if this_user %}
                <div class="add-to-tgl">
                    <a href="{% url 'remove_from_hbl' user.id picture.pk %}">
                        <img src="../../../static/images/delete.png">
                    </a>
                </div>
                {% else %}
                <!-- If logged in user is on their own profile don't allow to add pictures to tgl -->
                <div class="add-to-tgl">
                    <a href="{% url 'add_to_tgl' user.id picture.pk %}">
                        <img src="../../../static/images/plus.png">
                    </a>
                </div>

<!-- cynthias changes start -->
                <div class="like-picture">
                    <a href="{% url 'like_picture' user.id picture.pk %}">
                        <img src="../../../static/images/heart.png">
                    </a>
                </div>
<!-- changes end -->

                {% endif %}
            <img class="profile-list-image" src="/media/{{ picture.picture }}" alt="{{ picture.name }}">
            </div>
        {% endfor %}

    </div>

    <!-- To Go List -->
    <div class="tgl-container">
        <h2>To Go List</h2>
        {% for picture in tgl.picture_set.all %}
            <div class="list-img-container">
                {% if this_user %}
                <div class="add-to-tgl">
                    <a href="{% url 'remove_from_tgl' user.id picture.pk %}">
                        <img src="../../../static/images/delete.png">
                    </a>
                </div>
<!-- cynthias changes start -->                
                {% else %}

                <div class="add-to-tgl">
                    <a href="{% url 'add_to_tgl' user.id picture.pk %}">
                        <img src="../../../static/images/plus.png">
                    </a>
                </div>

                <div class="like-picture">
                    <a href="{% url 'like_picture' user.id picture.pk %}">
                        <img src="../../../static/images/heart.png">
                    </a>
                </div>
<!-- changes end -->


                {% endif %}
                <img class="profile-list-image" src="/media/{{ picture.picture }}" alt="{{ picture.name }}">
            </div>
        {% endfor %}

    </div>

{% endblock %}
